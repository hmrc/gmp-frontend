@*
 * Copyright 2022 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import config.ApplicationConfig
@import views.html.helpers._
@import views.ViewHelpers
@import uk.gov.hmrc.govukfrontend.views.html.components._
@import uk.gov.hmrc.govukfrontend.views.html.components.implicits._
@import uk.gov.hmrc.hmrcfrontend.views.Implicits.RichErrorSummary
@import uk.gov.hmrc.govukfrontend.views.Implicits.RichInput

@this(gmpMain: gmp_main,
        viewHelpers: ViewHelpers,
        govukButton : GovukButton,
        govukErrorSummary : GovukErrorSummary,
        govukInput : GovukInput
    )

@(pensionDetailsForm: Form[models.PensionDetailsScon])(implicit request: Request[_], messages: Messages, ac:ApplicationConfig)

@gmpMain(title = Messages("gmp.pension_details.header")) {

  @includes.back_link(Messages("gmp.bulk_reference.header"))

  @viewHelpers.form(action = routes.PensionDetailsController.post) {
      @pensionDetailsForm.errors.map { err =>
          @govukErrorSummary(ErrorSummary(
              errorList = Seq(
                  ErrorLink(
                      href = Some("#scon"),
                      content = Text(s"${messages(err.message)}")
                  )
              ),
              title = Text(messages("gmp.generic.errors_heading"))
          ))
      }
      @govukInput(Input(
          id = "scon",
          name = "scon",
          label = Label(
              isPageHeading = true,
              classes = "govuk-label--l",
              content = Text(Messages("gmp.pension_details.header")),
          ),
          classes = "govuk-input--width-10",
          hint = Some(Hint(
              content = Text(Messages("gmp.scon.hint"))
          ))
      ).withFormField(pensionDetailsForm("scon")))

@*      <p class="govuk-body">@Messages("gmp.scon.message") <a class="govuk-link" data-journey-click='@Messages("gmp.ga-track.link.click"):@Messages("gmp.pension_details.header"):@Messages("gmp.contact.hmrc")'*@
@*      href="https://www.gov.uk/government/organisations/hm-revenue-customs/contact/pensions-helpline-contracted-out">@Messages("gmp.contact.hmrc")</a>.</p>*@

      @govukButton(Button(
          content = Text(Messages("gmp.continue.button"))
      ))
@*  <button data-journey-click='@Messages("gmp.ga-track.button.click"):@Messages("gmp.pension_details.header"):@Messages("gmp.continue.button")' class="govuk-button" type="submit" id="submit-button">@Messages("gmp.continue.button")</button>*@

  }
}
